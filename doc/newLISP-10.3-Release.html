<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>newLISP  v.10.3 Release Notes </title>

<style type="text/css" media="screen">

h1 {
	font-family:Optima, Georgia, Times New Roman, Times, serif; 
	font-size: 250%;
	font-weight: 500;
	color: #404040;
	}

h2, h3 {
	font-family: Lucida Sans, Helvetica,  sans-serif;
	color: #404040;
	line-height: 120%;
 	}

body, p {
	font-family: Lucida Sans, Helvetica,  sans-serif;
	color: #404040;
	line-height: 120%;
 	}

tt {
	font-family: Courier;
	color: #505050;
	line-height: 140%;
	}


li {
	margin-bottom: 15px;
	}

</style>

</head>

<body>
<h1>newLISP<font size=-2>&#174;</font> v.10.3 Release Notes 
<font color="red" size="-1">rev 2011-02-02</font></h1>

<h3>Highlights</h3>
<ul>
<li>This release starts the transition to the IPv6 &ndash; Internet Protocol 
version 6 &ndash; based Internet with a new function to switch between the 
old IPv4 and the new IPv6 protocol during runtime.</li>

<li>A better interactive command-line mode (REPL) when running in an OS termnal
or shell window allows multiline entry of newLISP expressions (not available
in the monitor window of the newLISP-GS Java IDE).</li>
</ul>

<h3>New Functions and Features</h3>
<ul>

<li><tt>!</tt> now has an optional process-creation parameter on MS
Windows. Using this parameter also suppresses creation of console windows.</li>


<li><tt>exec</tt> now allows binary zeros in the data piped in via a second 
parameter.</li>

<li>New <tt>date-list</tt> returns list of year, month, day, hours, minutes, seconds 
and day of the year, day of the week from time value in seconds since 
January 1st, 1970. The new function is the inverse of <tt>date-value</tt>.</li>

<li><tt>extend</tt> will take an un-initialized variable and create a list or 
string depending on the second argument (similar to <tt>push</tt>). Before,
a variable in the first argument had to be initialized to a list or string.</li>

<li><tt>net-listen</tt> now can create <em>divert</em> sockets to divert
traffic to a <em>divert port</em> on BSD OS platforms. Port
diversion can be used to capture and process raw network packets.</li>

<li>The <tt>mod</tt> function assumes its second parameter as <tt>1</tt> 
if missing.</li>

<li>New <tt>net-ipv</tt> switches betweeen IPv4 and IPv6 internet protocols during
runtime. Prior versions had to be compiled for either IPv4 or IPv6. As of today
IPv6 is not widely deployed, but will gain importance during the coming years.
A command line switch <tt>-6</tt> has been added to start up newLISP in IPv6
mode.</li>

<li>New multiline mode on the commandline, without using the <tt>[cmd]</tt> 
and <tt>[/cmd]</tt> tags: just hitting the enter-key on an empty line gets 
into and out of multiline mode.  The <tt>[cmd]</tt> and <tt>[/cmd]</tt> tags 
still work too and are needed internally when newLISP is working in server mode, 
for some programming environments interfacing with newLISP and when pasting 
source containing empty lines into the terminal.<br/><br/>
Tab-expansion (on Unix only) for built-in function names also works in 
multiline mode. Multiline entry mode does not work in the Java based console
of newLISP-GS.<br/><br/>
A chapter explaining more details of the interactive Lisp mode in newLISP has 
been added to the Users Manual.</li>

<li>newLISP HTTP server now registers the CONTENT_TYPE and CONTENT_LENGTH 
environment variables when present in the header received.
Server mode now also handles binary content from POST requests.
previously only PUT requests could handle binary data.<br/>
See also this
<a href="http://www.newlisp.org/index.cgi?page=File_Upload_Script">file upload script</a>.
</li>
</ul>

<h3>Other changes and additions</h3>

<ul>

<li>Previous to version 10.3.0 the list of probability values returned
by <tt>bayes-query</tt> and when using Fisher Chi&sup2; mode was normalized by
dividing each value by the sum of the whole list. This normalization 
has been dropped.</li>

<li>The week-day value in the returned list of <tt>now</tt> &ndash; also present
in the new <tt>date-list</tt> function &ndash; has been changed to conform to 
the ISO-8601 international standard for time and date related data. Week days
from Monday thru Sunday now number 1 to 7.</li>

<li>On 64-bit compiled versions <tt>date-</tt> functions will work for dates 
beyond January 2038 and up to January 2100.</li>

<li>The <tt>parse-date</tt> function has been renamed to <tt>date-parse</tt>
for better consistency of naming in the date functions API with functions
<tt>date-list</tt> and <tt>date-value</tt>. The old spelling
will still work but is not documented anymore.</li>

<li>The return value for <tt>ref</tt> has changed from <tt>()</tt> to <tt>nil</tt>, 
when nothing is found.</li>

<li>The <tt>signal</tt> options for ignore, default and reset have been changed
from <tt>nil</tt>, <tt>true</tt> and <tt>(quote nil)</tt> to the option strings 
<tt>"ignore"</tt>, <tt>"default"</tt> and <tt>"reset"</tt>.</li>

<li>The maximum length for the interactive command-line and lines in HTTP
request headers has been increased to 511 charcters, up from 254.</li>

<li>The default connection timeout for networks functions now is set to 10 secs, 
up from 3 secs. This always can be overwritten by timeout parameters in 
<tt>net-connect</tt> and HTTP web functions which take timeout parameters.</li>

<li><tt>win32demo.lsp</tt> shows how to interface with Win32 GUI libraries.
the file is available in the <tt>examples</tt> directory of the newLISP
source distribution. Thanks to <i>Cyril Slobin</i> for providing this example.
</li>

<li>The port <tt>scan</tt> and packet <tt>sniff</tt> demos have been added in the
<tt>examples</tt> directory of the newLISP source distribution.</li>

<li>A table widget <tt>gs:table</tt> and supporting functions has been added
to the Java based newLISP-GS guiserver. See the new demo file <tt>table-demo.lsp</tt>
for details.</li>

<li>The <tt>gs:text-field</tt> widget in the newLISP-GS guiserver can now be
configured as a password entry widget. The file <tt>textfield-demo.lsp</tt>
has been added to the demo files accessible from the newLISP-GS IDE.</li>

<li><tt>syntax.cgi</tt> now emits a bigger font for iPad and iPhone.</li>

<li>All HTML files shipped in the doc directory of the source distribution
are now UTF-8, XHTML 1.0 compliant.</li>

</ul>

<h3>Bug fixes</h3>
<ul>
<li>Support for UTF-8 is improved in the newLISP-GS, Java GUI server. Japanese
language characters from Windows Code Page MS932 are now displayed correctly in
all circumstances.  For UTF-8 support, the UTF-8 version of the <tt>newlisp.exe</tt> 
executable must be installed. It is available in  
<a href="http://www.newlisp.org/downloads/UTF-8_win32/">www.newlisp.org/downloads/UTF-8_win32/</a>
directory.</li>

<li><tt>copy</tt> and <tt>map</tt> passed on a wrong protection status under some
circumstances.</li>

<li><tt>title-case</tt> did not handle the boolean flag correctly on non-utf8 
versions.</li>

<li>Various fixes for the IPv6 internet protocol mode.</li>

<li><tt>configure-alt</tt>, the alternate build configuration utility, did not
handle UTF-8 support correctly. This did not affect the standard 
<tt>configure</tt> script in newLISP which always worked correctly.</li>

</ul>

<h3>Compatibility with previous stable release 10.2.8</h3>

<ul>
<li>Probability results returned by <tt>bayes-query</tt> when using
the Fisher Chi&sup2; method are not normalized any longer.</li>

<li>The <tt>now</tt> function changes the numbering for
the week-day field. Monday thru Sunday now number 1 to 7.</li>

<li>Special options for the <tt>signal</tt> function are written
differently.</li>
</ul>

<center>&part;</center>

</body>
</html>
