<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>newLISP  v.10.4.6 Release Notes </title>

<style type="text/css" media="screen">

h1 {
	font-family:Optima, Georgia, Times New Roman, Times, serif; 
	font-size: 250%;
	font-weight: 500;
	color: #404040;
	}

h2, h3 {
	font-family: Lucida Sans, Helvetica,  sans-serif;
	color: #404040;
	line-height: 120%;
 	}

body, p {
	font-family: Lucida Sans, Helvetica,  sans-serif;
	color: #404040;
	line-height: 120%;
	font-size: 110%;
	max-width: 900px;
 	}

tt {
	font-family: Courier;
	color: #705040;
	line-height: 120%;
	}

em {
	font-family: Courier;
	color: #202020;
	}

li {
	margin-bottom: 15px;
	

</style>

</head>

<body>
<h1>newLISP<font size=-2>&#174;</font> v.10.4.6 Development Release
<font color="red" size="-1">2013-xx-xx</font></h1>

<p>This stable maintenance release fixes bugs and adds minor enhancements.</p>

<h3>Changes and additions</h3>
<ul>
<li>The functions <tt>json-parse</tt> and <tt>json-error</tt> allow fast parsing 
of JSON formatted text-data. The module <tt>json.lsp</tt> has been removed
from the distribution, but is still available at www.newlisp.org.</li>

<li>When using option 8 in <tt>xml-parse</tt> to translate XML tags into newLISP
symbols, colons <tt>':'</tt> in XML namespace tags will be translated into 
a <tt>'.'</tt> dot.</li>

<li>Crtl-D in Unix will now emit a line-feed before exiting.</li>

<li>In the <tt>file?</tt> function the <tt>true</tt> flag not only causes the
filename to be returned but now also implies that the filename is not a directory,
else <tt>nil</tt> is returned.</li>

<li>On LINUX and BSD, when compiled with GNU libreadline support, a matching 
parenthesis will blink on the simple or multiple newLISP command line (REPL). 
For this, the line: <tt>set blink-matching-paren on</tt> should be put into the
Bash <tt>.inputrc</tt> configuration file.</li>

<li>newLISP server mode now sets the environment variable REMOTE_ADDR to the 
IP-string of the connecting client.</li>

<li>Added <tt>make android_dist</tt> and <tt>make android_dist_utf8</tt> commands
for making <tt>newlisp-ndk-x.x.x.tgz</tt> and <tt>newlisp-ndk-utf8-x.x.x.tgz</tt> 
packages for compilation in the Android Native Development Kit (NDK). To run newLISP
on Android in server mode and to support data transfers of more than 4072 bytes
in the multiprocessing Cilk API and shared memory API, a <tt>/data/tmp</tt> 
directory must be present on the Android device. <tt>(sys-info -1)</tt> on
Android is 11 and <tt>ostype</tt> is <tt>"Linux"</tt>.
</li>

<li>The module <tt>sqlite3.lsp</tt> has added paths for the imported library (1).</li>

</ul>

<h3>Bug fixes</h3>
<ul>
<li>A fix in <tt>sort</tt> when the sorting function is generated at run-time.</li>

<li>A fix in the <tt>cgi.lsp</tt> module when receiving large POST data (1).</li>

<li>The module <tt>macro.lsp</tt> now works for defining <i>default functors</i>
as macros (1).</li>

<li>The module <tt>plot.lsp</tt> had problems when manually defining y-ranges (1).</li>

<li>When newLISP is compiled as a library big/small -endianess is now calculated 
as in the main version instead of always assuming big-endian. This affected
<tt>pack</tt>, <tt>unpack</tt> and <tt>get-int</tt> in the shared library version.
</li>

</ul>

<h3>Compatibility with previous versions</h3>
<p>This version is compatible with previous versions in the 10.4 series of newLISP.</p>

<p>(1) Changes in module files are always posted immediately online at 
<a href="http://www.newlisp.org/modules/">www.newlisp.org/modules/</a>.</p>

<center>&part;</center>

</body>
</html>
