<a name="linking"></a>
<h2>23. Linking newLISP source and executable</h2>

<p>On MS Windows source code and the newLISP executable can be linked together to build
a self-contained application by using <tt>link.lsp</tt>. This program is 
located in the <tt>newlisp/util</tt> directory of the distributions.
As an example, the following code is linked to the newLISP executable
to form a simple, self-contained application:
</p>
<pre>
;; uppercase.lsp - Link example
(println (upper-case (main-args 1)))
(exit)
</pre>		
<p>This program, which resides in the file <tt>uppercase.lsp</tt>, takes the 
first word on the command-line and converts it to uppercase.</p>

<p>To build this program as a self-contained executable,
follow these four steps:</p>

<p><tt>(1)</tt> Put the following files into the same directory:
(a) a copy of the newLISP executable; (b) <tt>newlisp.exe</tt>;  
(c) <tt>link.lsp</tt>; and (d) the program to 
link with (<tt>uppercase.lsp</tt> in this example).</p>

<p><tt>(2)</tt> In a shell, go to the directory referred to in step 1
and load <tt>link.lsp</tt>:</p>

<pre>
newlisp link.lsp
</pre>		

<p><tt>(3)</tt> In the newLISP shell, type one of the following:</p>

<pre>
(link "newlisp.exe" "uppercase.exe" "uppercase.lsp")
</pre>		<p>
	<tt>(4)</tt> Exit the newLISP shell and type:
</p>
<pre>
uppercase "convert me to uppercase"
</pre>	

<p>The console should print:</p>

<pre>
CONVERT ME TO UPPERCASE
</pre>		

<p>Note that neither one of the initialization files <tt>init.lsp</tt> nor 
<tt>.init.lsp</tt> is loaded during startup of linked programs.</p>

<br/>

